#<file_io>
#<console_io>

// Teste das funÃ§Ãµes de file_io
native_println("ğŸ—‚ï¸ Testando mÃ³dulo file_io...");

// 1. Verificando diretÃ³rio atual
let cwd = native_getcwd();
native_println("ğŸ“‚ DiretÃ³rio atual: " + cwd);

// 2. Testando escrita de arquivo
let dados_teste = "Este Ã© um arquivo de teste criado pelo mÃ³dulo file_io.\nCom mÃºltiplas linhas de texto.\nE alguns nÃºmeros: 123, 456, 789.";
native_write_file("teste_file_io.txt", dados_teste);
native_println("âœ… Arquivo teste_file_io.txt criado");

// 3. Verificando se o arquivo existe
let existe = native_file_exists("teste_file_io.txt");
native_println("ğŸ“„ Arquivo existe: " + existe);

// 4. Lendo o arquivo completo
let conteudo = native_read_file("teste_file_io.txt");
native_println("ğŸ“– ConteÃºdo lido:");
native_println(conteudo);

// 5. Lendo o arquivo como linha Ãºnica
let conteudo_linha = native_read_file_content("teste_file_io.txt");
native_println("ğŸ“– ConteÃºdo como linha Ãºnica: " + conteudo_linha);

// 6. Adicionando conteÃºdo ao arquivo
native_append_file("teste_file_io.txt", "\n--- ConteÃºdo adicionado ---\nEsta linha foi adicionada com append.");
native_println("âœ… ConteÃºdo adicionado ao arquivo");

// 7. Verificando se Ã© diretÃ³rio
let eh_diretorio = native_is_dir("teste_file_io.txt");
native_println("ğŸ“ Ã‰ diretÃ³rio: " + eh_diretorio);

// 8. Obtendo informaÃ§Ãµes do arquivo
let info = native_get_file_info("teste_file_io.txt");
native_println("ğŸ“Š InformaÃ§Ãµes do arquivo:");
native_println("   Tamanho: " + info[0] + " bytes");
native_println("   Ã‰ diretÃ³rio: " + info[1]);
native_println("   Ã‰ arquivo: " + info[2]);
native_println("   Somente leitura: " + info[3]);

// 9. Criando um diretÃ³rio de teste
native_mkdir("teste_dir");
native_println("âœ… DiretÃ³rio teste_dir criado");

// 10. Copiando arquivo para o diretÃ³rio
native_copy_file("teste_file_io.txt", "teste_dir/arquivo_copiado.txt");
native_println("âœ… Arquivo copiado para teste_dir/arquivo_copiado.txt");

// 11. Listando conteÃºdo do diretÃ³rio atual
let arquivos = native_list_dir(".");
native_println("ğŸ“‹ Arquivos no diretÃ³rio atual:");
native_println("   " + arquivos[0]);
native_println("   " + arquivos[1]);
native_println("   " + arquivos[2]);
native_println("   " + arquivos[3]);
native_println("   " + arquivos[4]);

// 12. Mudando para o diretÃ³rio de teste
native_setcwd("teste_dir");
let novo_cwd = native_getcwd();
native_println("ğŸ“‚ Novo diretÃ³rio atual: " + novo_cwd);

// 13. Voltando para o diretÃ³rio original
native_setcwd("..");
let cwd_final = native_getcwd();
native_println("ğŸ“‚ De volta ao diretÃ³rio: " + cwd_final);

// 14. Movendo um arquivo
native_write_file("arquivo_temporario.txt", "Arquivo para mover");
native_move_file("arquivo_temporario.txt", "teste_dir/arquivo_movido.txt");
native_println("âœ… Arquivo movido para teste_dir/arquivo_movido.txt");

// 15. Verificando se o arquivo original foi removido
let existe_original = native_file_exists("arquivo_temporario.txt");
native_println("ğŸ“„ Arquivo original ainda existe: " + existe_original);

// 16. Listando arquivos no diretÃ³rio de teste
let arquivos_teste = native_list_dir("teste_dir");
native_println("ğŸ“‹ Arquivos em teste_dir:");
native_println("   " + arquivos_teste[0]);
native_println("   " + arquivos_teste[1]);

native_println("ğŸ‰ Teste do mÃ³dulo file_io concluÃ­do com sucesso!");
