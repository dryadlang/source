// üìÅ Exemplos de File I/O
#<file_io>
#<console_io>

println("=== Opera√ß√µes B√°sicas com Arquivos ===");

// Escrever arquivo
let conteudo = "Este √© um arquivo de exemplo criado pelo Dryad!\nLinha 2: Teste de escrita\nLinha 3: Data de cria√ß√£o: " + "2024";
let arquivo = "exemplo.txt";

println("Escrevendo arquivo: " + arquivo);
write_file(arquivo, conteudo);

if (file_exists(arquivo)) {
    println("‚úÖ Arquivo criado com sucesso!");
} else {
    println("‚ùå Erro ao criar arquivo");
}

// Ler arquivo
println("\n=== Lendo Arquivo ===");
if (file_exists(arquivo)) {
    let conteudo_lido = read_file(arquivo);
    println("Conte√∫do do arquivo:");
    println("---");
    println(conteudo_lido);
    println("---");
} else {
    println("Arquivo n√£o encontrado!");
}

// Anexar conte√∫do
println("\n=== Anexando Conte√∫do ===");
let conteudo_adicional = "\nLinha anexada: Novo conte√∫do!";
append_file(arquivo, conteudo_adicional);
println("Conte√∫do anexado!");

// Ler arquivo atualizado
let conteudo_final = read_file(arquivo);
println("Conte√∫do final:");
println("---");
println(conteudo_final);
println("---");

// Informa√ß√µes do arquivo
println("\n=== Informa√ß√µes do Arquivo ===");
let info = get_file_info(arquivo);
println("Informa√ß√µes de: " + arquivo);
// Note: Em implementa√ß√£o real, info seria um objeto com propriedades

// Opera√ß√µes de diret√≥rio
println("\n=== Opera√ß√µes de Diret√≥rio ===");
let dir_teste = "teste_dir";

println("Criando diret√≥rio: " + dir_teste);
mkdir(dir_teste);

if (is_dir(dir_teste)) {
    println("‚úÖ Diret√≥rio criado!");
} else {
    println("‚ùå Erro ao criar diret√≥rio");
}

// Listar diret√≥rio atual
println("\n=== Listando Diret√≥rio Atual ===");
let arquivos = list_dir(".");
println("Arquivos no diret√≥rio atual:");
// Note: em implementa√ß√£o real, arquivos seria uma lista

// Copiar arquivo
println("\n=== Copiando Arquivo ===");
let arquivo_copia = "exemplo_copia.txt";
copy_file(arquivo, arquivo_copia);

if (file_exists(arquivo_copia)) {
    println("‚úÖ Arquivo copiado para: " + arquivo_copia);
} else {
    println("‚ùå Erro ao copiar arquivo");
}

// Mover arquivo
println("\n=== Movendo Arquivo ===");
let arquivo_movido = "exemplo_movido.txt";
move_file(arquivo_copia, arquivo_movido);

if (file_exists(arquivo_movido) && !file_exists(arquivo_copia)) {
    println("‚úÖ Arquivo movido de " + arquivo_copia + " para " + arquivo_movido);
} else {
    println("‚ùå Erro ao mover arquivo");
}

// Limpeza
println("\n=== Limpeza ===");
delete_file(arquivo);
delete_file(arquivo_movido);
println("Arquivos removidos para limpeza");

// Verificar diret√≥rio de trabalho
println("\n=== Diret√≥rio de Trabalho ===");
let dir_atual = getcwd();
println("Diret√≥rio atual: " + dir_atual);